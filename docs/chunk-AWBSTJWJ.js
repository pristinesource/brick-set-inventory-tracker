import{a as Y}from"./chunk-TEXUJOEG.js";import{g as W}from"./chunk-J267KXJP.js";import{b as $}from"./chunk-HLEASSE4.js";import{$ as D,Aa as I,Ea as R,Eb as L,Fb as H,Gb as G,Hb as U,Ia as g,Ib as j,Jb as N,Oa as l,Pa as A,Qa as f,Qb as O,Ra as z,Rb as q,Sa as e,Ta as t,Ua as c,Xa as P,Ya as p,Za as S,_ as C,a as M,aa as m,ba as h,c as u,cb as i,db as x,eb as v,fb as F,nb as b,ob as w,pb as T,wa as s}from"./chunk-YEQZILZB.js";function K(o,a){o&1&&(m(),e(0,"svg",69),c(1,"path",70),t())}function J(o,a){o&1&&(m(),e(0,"svg",71),c(1,"path",72),t())}function X(o,a){if(o&1&&(e(0,"div",62)(1,"div",63)(2,"div",64),g(3,K,2,0,"svg",65)(4,J,2,0,"svg",66),t(),e(5,"div",67)(6,"p",68),i(7),t()()()()),o&2){let n=S();l("ngClass",n.message.type==="success"?"bg-green-100 border-green-400 text-green-700":"bg-red-100 border-red-400 text-red-700"),s(3),l("ngIf",n.message.type==="success"),s(),l("ngIf",n.message.type==="error"),s(3),x(n.message.text)}}function Z(o,a){o&1&&(e(0,"p",14),i(1," The app caches building block parts, sets, and inventory data locally for better performance. The cache is automatically refreshed every 12 hours, but you can manually refresh it if needed. "),t())}function ee(o,a){o&1&&(e(0,"p",14),i(1," Your browser doesn't support IndexedDB, so building block data is loaded fresh from CSV files each time you visit. This ensures you always have the latest data but may result in longer loading times. "),t())}function te(o,a){if(o&1&&(e(0,"div",73)(1,"div")(2,"span",74),i(3,"Last updated:"),t(),i(4),b(5,"date"),t(),e(6,"div")(7,"span",74),i(8,"Age:"),t(),i(9),t()()),o&2){let n=S();s(4),v(" ",T(5,2,n.csvCacheInfo.timestamp,"medium")," "),s(5),v(" ",n.formatCacheAge(n.csvCacheInfo.age)," ")}}function ie(o,a){o&1&&(e(0,"div",75),i(1," No cached data found. Data will be loaded from CSV files on next page refresh. "),t())}function ne(o,a){o&1&&(e(0,"div",75),i(1," Caching not available - data loads fresh from CSV files each visit. "),t())}function ae(o,a){o&1&&c(0,"div",76)}function re(o,a){o&1&&(e(0,"span"),i(1,"This will download fresh CSV data from the server and update the cache."),t())}function se(o,a){o&1&&(e(0,"span"),i(1,"This will reload the page with fresh CSV data from the server."),t())}function oe(o,a){o&1&&c(0,"div",76)}function le(o,a){if(o&1&&(e(0,"div",91)(1,"span",74),i(2),t(),e(3,"span"),i(4),b(5,"number"),t(),e(6,"span"),i(7),b(8,"number"),t()()),o&2){let n=a.$implicit;f("bg-red-50",n.memoryCount!==n.indexedDBCount)("bg-green-50",n.memoryCount===n.indexedDBCount),s(2),x(n.dataType),s(2),x(w(5,7,n.memoryCount)),s(3),x(w(8,9,n.indexedDBCount))}}function de(o,a){o&1&&(m(),e(0,"svg",92),c(1,"path",70),t())}function ce(o,a){o&1&&(m(),e(0,"svg",93),c(1,"path",72),t())}function me(o,a){if(o&1&&(e(0,"div",79)(1,"h4",80),i(2,"Data Integrity Results"),t(),e(3,"div",81)(4,"div",82)(5,"span"),i(6,"Data Type"),t(),e(7,"span"),i(8,"Memory"),t(),e(9,"span"),i(10,"IndexedDB"),t()(),g(11,le,9,11,"div",83),e(12,"div",84)(13,"div",85)(14,"span"),i(15,"TOTAL"),t(),e(16,"span"),i(17),b(18,"number"),t(),e(19,"span"),i(20),b(21,"number"),t()()(),e(22,"div",86)(23,"div",87),g(24,de,2,0,"svg",88)(25,ce,2,0,"svg",89),e(26,"span",74),i(27),t()(),e(28,"p",90),i(29),t()()()()),o&2){let n=S(2);s(11),l("ngForOf",n.dataIntegrityResults.comparisons),s(2),f("text-red-700",n.dataIntegrityResults.totalMemory!==n.dataIntegrityResults.totalIndexedDB)("text-green-700",n.dataIntegrityResults.totalMemory===n.dataIntegrityResults.totalIndexedDB),s(4),x(w(18,15,n.dataIntegrityResults.totalMemory)),s(3),x(w(21,17,n.dataIntegrityResults.totalIndexedDB)),s(2),f("bg-green-100",n.dataIntegrityResults.isHealthy)("bg-red-100",!n.dataIntegrityResults.isHealthy),s(2),l("ngIf",n.dataIntegrityResults.isHealthy),s(),l("ngIf",!n.dataIntegrityResults.isHealthy),s(2),v(" ",n.dataIntegrityResults.isHealthy?"Data integrity is healthy":"Data integrity issues detected"," "),s(2),x(n.dataIntegrityResults.message)}}function ge(o,a){if(o&1){let n=P();e(0,"div",22)(1,"h3",9),i(2,"Data Integrity Check"),t(),e(3,"p",14),i(4," Verify data consistency between what's stored in IndexedDB cache and what's currently loaded in memory. "),t(),e(5,"button",77),p("click",function(){C(n);let d=S();return D(d.checkDataIntegrity())}),g(6,oe,1,0,"div",30),i(7),t(),g(8,me,30,19,"div",78),e(9,"p",13),i(10," This compares the data currently loaded in your app's memory with the cached data in IndexedDB. "),t()()}if(o&2){let n=S();s(5),l("disabled",n.isCheckingIntegrity),s(),l("ngIf",n.isCheckingIntegrity),s(),v(" ",n.isCheckingIntegrity?"Checking Data Integrity...":"Check Data Integrity"," "),s(),l("ngIf",n.dataIntegrityResults)}}function pe(o,a){o&1&&c(0,"div",76)}function ue(o,a){if(o&1){let n=P();e(0,"div",106)(1,"div",87),m(),e(2,"svg",107),c(3,"path",41),t(),h(),e(4,"span",108),i(5,"IndexedDB Disabled"),t()(),e(6,"p",109),i(7),t(),e(8,"div",110)(9,"span",74),i(10,"Status:"),t(),e(11,"span",111),i(12),t()(),e(13,"div",112)(14,"button",113),p("click",function(){C(n);let d=S(2);return D(d.resetIndexedDB())}),i(15),t(),e(16,"button",114),p("click",function(){C(n);let d=S(2);return D(d.deleteEntireDatabase())}),i(17),t()()()}if(o&2){let n=S(2);s(7),v(" IndexedDB has been disabled due to: ",n.indexedDBDisabledReason,". Using localStorage fallback. Some features may be limited. "),s(5),x(n.indexedDBDisabledReason),s(2),l("disabled",n.isResettingIndexedDB),s(),v(" ",n.isResettingIndexedDB?"Resetting...":"Reset Session"," "),s(),l("disabled",n.isResettingIndexedDB),s(),v(" ",n.isResettingIndexedDB?"Processing...":"Delete Database"," ")}}function he(o,a){o&1&&(e(0,"span"),i(1," Currently using localStorage fallback due to IndexedDB issues."),t())}function ve(o,a){if(o&1&&(e(0,"div",5)(1,"h2",6),i(2,"Storage Information"),t(),e(3,"div",7),g(4,ue,18,6,"div",94),e(5,"div",15)(6,"div",95)(7,"span",26),i(8,"Storage Usage"),t(),e(9,"span",96),i(10),t()(),e(11,"div",97),c(12,"div",98),t(),e(13,"div",99),i(14),b(15,"number"),t()(),e(16,"div",100)(17,"div",101)(18,"div",102),i(19,"Storage Type"),t(),e(20,"div",96),i(21),t()(),e(22,"div",101)(23,"div",102),i(24,"Status"),t(),e(25,"div",103),c(26,"span",104),i(27),t()(),e(28,"div",101)(29,"div",102),i(30,"Data Components"),t(),e(31,"div",96)(32,"div"),i(33,"\u2022 Your inventory data"),t(),e(34,"div"),i(35,"\u2022 CSV data cache"),t(),e(36,"div"),i(37,"\u2022 Application settings"),t()()()(),e(38,"p",105),i(39," Storage is managed automatically. CSV cache helps reduce loading times and data usage. "),g(40,he,2,0,"span",31),t()()()),o&2){let n=S();s(4),l("ngIf",n.isIndexedDBDisabled),s(6),F("",n.formatBytes(n.storageInfo.used)," / ",n.formatBytes(n.storageInfo.quota),""),s(2),A("width",n.getStoragePercentage(),"%"),f("bg-green-500",n.getStoragePercentage()<70)("bg-yellow-500",n.getStoragePercentage()>=70&&n.getStoragePercentage()<90)("bg-red-500",n.getStoragePercentage()>=90),s(2),v(" ",T(15,21,n.getStoragePercentage(),"1.1-1"),"% used "),s(7),x(n.storageInfo.type),s(5),f("bg-green-500",n.storageInfo.status==="Active")("bg-yellow-500",n.storageInfo.status==="Fallback")("bg-red-500",n.storageInfo.status.includes("Disabled")),s(),v(" ",n.storageInfo.status," "),s(13),l("ngIf",n.isIndexedDBDisabled)}}var Q=class o{constructor(a,n,r,d){this.storageService=a;this.exportService=n;this.dataService=r;this.indexedDBService=d}message=null;selectedFile=null;globalSettings={imagePreviewSize:"1x",includeSparePartsInProgress:!0};storageInfo=null;isUsingIndexedDB=!1;isIndexedDBDisabled=!1;indexedDBDisabledReason="";csvCacheInfo=null;isRefreshingCSV=!1;isCheckingIntegrity=!1;isResettingIndexedDB=!1;dataIntegrityResults=null;ngOnInit(){return u(this,null,function*(){this.storageService.getState().subscribe(a=>{this.globalSettings=M({},a.globalSettings)}),yield this.loadStorageInfo(),this.isUsingIndexedDB=this.storageService.isUsingIndexedDB(),yield this.loadCSVCacheInfo()})}loadStorageInfo(){return u(this,null,function*(){try{this.storageInfo=yield this.storageService.getStorageInfo(),this.isUsingIndexedDB=this.storageService.isUsingIndexedDB(),this.isIndexedDBDisabled=!this.isUsingIndexedDB&&"indexedDB"in window,this.isIndexedDBDisabled&&this.storageInfo&&(this.indexedDBDisabledReason=this.storageInfo.status.includes("Disabled:")?this.storageInfo.status.replace("Disabled: ",""):"Unknown reason")}catch(a){console.error("Failed to load storage info:",a)}})}loadCSVCacheInfo(){return u(this,null,function*(){try{this.csvCacheInfo=yield this.dataService.getCSVCacheInfo()}catch(a){console.error("Failed to load CSV cache info:",a)}})}updateImagePreviewSize(a){this.globalSettings.imagePreviewSize=a,this.storageService.updateGlobalSettings({imagePreviewSize:a}),this.showMessage(`Image preview size updated to ${a}`,"success")}updateIncludeSparePartsInProgress(a){this.globalSettings.includeSparePartsInProgress=a,this.storageService.updateGlobalSettings({includeSparePartsInProgress:a}),this.showMessage(a?"Spare parts will now be included in progress calculations":"Spare parts will now be excluded from progress calculations","success")}exportData(){try{this.exportService.exportData(),this.showMessage("Data exported successfully. Download started.","success")}catch(a){console.error("Error exporting data:",a),this.showMessage("Failed to export data. Please try again.","error")}}onFileSelected(a){let n=a.target;n.files&&n.files.length>0?this.selectedFile=n.files[0]:this.selectedFile=null}importData(){return u(this,null,function*(){if(!this.selectedFile){this.showMessage("Please select a file to import.","error");return}if(this.storageService.hasExistingData()&&!confirm(`\u26A0\uFE0F WARNING: Importing data will overwrite all your existing inventory data in the browser.

This action cannot be undone. All your current inventories, part ownership data, and settings will be replaced.

Do you want to continue?`)){this.showMessage("Import cancelled. Your existing data remains unchanged.","success");return}try{(yield this.exportService.importData(this.selectedFile))?(this.showMessage("Data imported successfully.","success"),this.selectedFile=null,yield this.loadStorageInfo()):this.showMessage("Failed to import data. Invalid file format.","error")}catch(a){console.error("Error importing data:",a),this.showMessage("An error occurred while importing data.","error")}})}clearAllData(){return u(this,null,function*(){if(confirm("Are you sure you want to clear all your data? This action cannot be undone."))try{yield this.storageService.clearAllData(),this.showMessage("All data cleared successfully.","success"),yield this.loadStorageInfo(),setTimeout(()=>window.location.reload(),1e3)}catch(a){console.error("Error clearing data:",a),this.showMessage("Failed to clear data. Please try again.","error")}})}refreshCSVData(){return u(this,null,function*(){if(confirm("Are you sure you want to refresh the CSV data? This will download the latest data from the server and may take a few minutes.")){this.isRefreshingCSV=!0;try{(yield this.dataService.refreshCSVData())?(this.showMessage("CSV data refreshed successfully from server.","success"),yield this.loadCSVCacheInfo(),yield this.loadStorageInfo()):this.showMessage("Failed to refresh CSV data. Please try again.","error")}catch(a){console.error("Error refreshing CSV data:",a),this.showMessage("An error occurred while refreshing CSV data.","error")}finally{this.isRefreshingCSV=!1}}})}clearAllDataIncludingCache(){return u(this,null,function*(){if(confirm("Are you sure you want to clear ALL data including CSV cache? This will force a complete reload of all data on next visit and cannot be undone."))try{yield this.storageService.clearAllDataIncludingCache(),this.showMessage("All data including cache cleared successfully.","success"),yield this.loadStorageInfo(),yield this.loadCSVCacheInfo(),setTimeout(()=>window.location.reload(),1e3)}catch(a){console.error("Error clearing all data:",a),this.showMessage("Failed to clear all data. Please try again.","error")}})}clearAllDataAndCache(){return u(this,null,function*(){if(!this.isRefreshingCSV&&confirm("\u26A0\uFE0F This will permanently delete ALL your inventory data and cached CSV data. This action cannot be undone. Are you sure?")){this.isRefreshingCSV=!0;try{if(console.log("Starting complete data clear..."),yield this.storageService.clearAllData(),console.log("Storage service data cleared"),"indexedDB"in window)try{yield this.indexedDBService.clearAllData(),console.log("IndexedDB cleared completely"),this.indexedDBService.resetSessionState(),console.log("IndexedDB session state reset")}catch(a){console.warn("Failed to clear IndexedDB data:",a)}console.log("All data cleared successfully, reloading page..."),window.location.reload()}catch(a){console.error("Error clearing all data:",a),alert("Error clearing data. Please try again.")}finally{this.isRefreshingCSV=!1}}})}formatBytes(a){if(a===0)return"0 Bytes";let n=1024,r=["Bytes","KB","MB","GB"],d=Math.floor(Math.log(a)/Math.log(n));return parseFloat((a/Math.pow(n,d)).toFixed(2))+" "+r[d]}getStoragePercentage(){return!this.storageInfo||this.storageInfo.quota===0?0:this.storageInfo.used/this.storageInfo.quota*100}formatCacheAge(a){if(!a)return"Unknown";let n=a/(1e3*60*60);if(n<1){let r=a/6e4;return`${Math.round(r)} minutes ago`}else{if(n<24)return`${Math.round(n*10)/10} hours ago`;{let r=n/24;return`${Math.round(r*10)/10} days ago`}}}getCacheStatusText(){return this.isUsingIndexedDB?this.csvCacheInfo?this.csvCacheInfo.exists?this.csvCacheInfo.isValid?"Valid":"Expired (>12 hours old)":"No cache found":"Unknown":"No caching (IndexedDB unavailable)"}getCacheStatusClass(){return!this.isUsingIndexedDB||!this.csvCacheInfo?"text-gray-500":this.csvCacheInfo.exists&&this.csvCacheInfo.isValid?"text-green-600":"text-orange-600"}checkDataIntegrity(){return u(this,null,function*(){this.isCheckingIntegrity=!0,this.dataIntegrityResults=null;try{let a=this.dataService.getCurrentDataStats(),r=yield this.storageService.indexedDBService.loadCSVDataCache(),d=[],_=0,V=0,E=!1;["inventories","inventoryParts","inventoryMinifigs","inventorySets","parts","colors","partCategories","partRelationships","elements","minifigs","sets","themes"].forEach(y=>{let B=a[y]||0,k=r&&Array.isArray(r[y])?r[y].length:0;d.push({dataType:y.charAt(0).toUpperCase()+y.slice(1),memoryCount:B,indexedDBCount:k}),_+=B,V+=k,B!==k&&(E=!0)}),this.dataIntegrityResults={comparisons:d,totalMemory:_,totalIndexedDB:V,isHealthy:!E,message:E?"Some data counts differ between memory and IndexedDB cache. Consider refreshing CSV data.":"All data counts match between memory and IndexedDB cache. Data integrity is good."}}catch(a){console.error("Error checking data integrity:",a),this.dataIntegrityResults={comparisons:[],totalMemory:0,totalIndexedDB:0,isHealthy:!1,message:"Failed to check data integrity. Error: "+a.message}}finally{this.isCheckingIntegrity=!1}})}resetIndexedDB(){return u(this,null,function*(){if(!this.isResettingIndexedDB){this.isResettingIndexedDB=!0;try{this.indexedDBService.forceCleanup(),this.indexedDBService.resetSessionState(),yield this.loadStorageInfo(),console.log("IndexedDB session state reset successfully")}catch(a){console.error("Error resetting IndexedDB:",a)}finally{this.isResettingIndexedDB=!1}}})}deleteEntireDatabase(){return u(this,null,function*(){if(!this.isResettingIndexedDB&&confirm("\u26A0\uFE0F WARNING: This will completely delete the IndexedDB database and all cached data. This cannot be undone. Continue?")){this.isResettingIndexedDB=!0;try{this.indexedDBService.forceCleanup(),yield this.indexedDBService.deleteDatabase(),this.indexedDBService.resetSessionState(),yield this.loadStorageInfo(),console.log("IndexedDB database deleted successfully"),alert("Database deleted successfully. The page will reload to reinitialize."),window.location.reload()}catch(a){console.error("Error deleting database:",a),alert(`Failed to delete database: ${a instanceof Error?a.message:"Unknown error"}`)}finally{this.isResettingIndexedDB=!1}}})}showMessage(a,n){this.message={text:a,type:n},setTimeout(()=>{this.message=null},5e3)}static \u0275fac=function(n){return new(n||o)(I(q),I(Y),I($),I(O))};static \u0275cmp=R({type:o,selectors:[["app-settings"]],decls:153,vars:60,consts:[[1,"py-8"],[1,"max-w-4xl","mx-auto"],[1,"bg-white","shadow-md","rounded-lg","p-6"],[1,"text-3xl","font-bold","text-gray-800","mb-6"],["class","border-l-4 p-4 mb-6 rounded",3,"ngClass",4,"ngIf"],[1,"mb-8"],[1,"text-xl","font-semibold","text-gray-700","mb-4"],[1,"bg-gray-50","p-4","rounded-lg"],[1,"mb-6"],[1,"font-medium","text-gray-800","mb-2"],[1,"text-gray-600","text-sm","mb-3"],[1,"flex","space-x-2"],[1,"px-4","py-2","rounded","transition",3,"click"],[1,"text-xs","text-gray-500","mt-2"],[1,"text-gray-600","text-sm","mb-4"],[1,"mb-4"],[1,"w-full","px-4","py-2","bg-blue-600","text-white","rounded-md","hover:bg-blue-700",3,"click"],["type","file","accept",".json",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","mb-2",3,"change"],[1,"w-full","px-4","py-2","bg-green-600","text-white","rounded-md","hover:bg-green-700","disabled:bg-gray-400","disabled:cursor-not-allowed",3,"click","disabled"],[1,"text-xs","text-orange-600","mt-2","flex","items-start"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4","mr-1","mt-0.5","flex-shrink-0"],["fill-rule","evenodd","d","M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule","evenodd"],[1,"mb-6","border-t","pt-6"],["class","text-gray-600 text-sm mb-4",4,"ngIf"],[1,"bg-white","border","rounded-lg","p-4","mb-4"],[1,"flex","justify-between","items-start","mb-2"],[1,"font-medium","text-gray-700"],["class","text-sm text-gray-600 space-y-1",4,"ngIf"],["class","text-sm text-gray-600",4,"ngIf"],[1,"w-full","px-4","py-2","bg-orange-600","text-white","rounded-md","hover:bg-orange-700","disabled:bg-gray-400","disabled:cursor-not-allowed","flex","items-center","justify-center",3,"click","disabled"],["class","animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2",4,"ngIf"],[4,"ngIf"],["class","mb-6 border-t pt-6",4,"ngIf"],[1,"border-t","pt-6"],[1,"w-full","px-4","py-2","bg-red-600","text-white","rounded-md","hover:bg-red-700","mb-2",3,"click"],[1,"w-full","px-4","py-2","bg-red-800","text-white","rounded-md","hover:bg-red-900","disabled:bg-gray-400","disabled:cursor-not-allowed","flex","items-center","justify-center",3,"click","disabled"],["class","mb-8",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"bg-white","p-4","rounded-lg","border"],[1,"flex","items-center","mb-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-red-500","mr-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.732 15.5c-.77.833.192 2.5 1.732 2.5z"],[1,"font-medium","text-gray-800"],["href","https://github.com/pristinesource/brick-set-inventory-tracker/issues","target","_blank","rel","noopener noreferrer",1,"inline-flex","items-center","px-4","py-2","bg-red-600","text-white","rounded-md","hover:bg-red-700","transition"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-blue-500","mr-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"],["href","https://github.com/pristinesource/brick-set-inventory-tracker/issues","target","_blank","rel","noopener noreferrer",1,"inline-flex","items-center","px-4","py-2","bg-blue-600","text-white","rounded-md","hover:bg-blue-700","transition"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-green-500","mr-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"],["href","https://github.com/pristinesource/brick-set-inventory-tracker#readme","target","_blank","rel","noopener noreferrer",1,"inline-flex","items-center","px-4","py-2","bg-green-600","text-white","rounded-md","hover:bg-green-700","transition"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-purple-500","mr-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],["href","https://github.com/pristinesource/brick-set-inventory-tracker/issues","target","_blank","rel","noopener noreferrer",1,"inline-flex","items-center","px-4","py-2","bg-purple-600","text-white","rounded-md","hover:bg-purple-700","transition"],[1,"mt-6","p-4","bg-blue-50","rounded-lg","border","border-blue-200"],[1,"flex","items-start"],["fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5","text-blue-500","mr-3","mt-0.5"],["fill-rule","evenodd","d","M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule","evenodd"],[1,"font-medium","text-blue-900","mb-1"],[1,"text-blue-700","text-sm"],["href","https://github.com/pristinesource/brick-set-inventory-tracker/issues","target","_blank","rel","noopener noreferrer",1,"underline","hover:no-underline"],[1,"border-l-4","p-4","mb-6","rounded",3,"ngClass"],[1,"flex"],[1,"flex-shrink-0"],["class","h-5 w-5 text-green-400","viewBox","0 0 20 20","fill","currentColor",4,"ngIf"],["class","h-5 w-5 text-red-400","viewBox","0 0 20 20","fill","currentColor",4,"ngIf"],[1,"ml-3"],[1,"text-sm"],["viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","text-green-400"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"],["viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","text-red-400"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"],[1,"text-sm","text-gray-600","space-y-1"],[1,"font-medium"],[1,"text-sm","text-gray-600"],[1,"animate-spin","rounded-full","h-4","w-4","border-b-2","border-white","mr-2"],[1,"w-full","px-4","py-2","bg-purple-600","text-white","rounded-md","hover:bg-purple-700","disabled:bg-gray-400","disabled:cursor-not-allowed","flex","items-center","justify-center","mb-4",3,"click","disabled"],["class","bg-white border rounded-lg p-4",4,"ngIf"],[1,"bg-white","border","rounded-lg","p-4"],[1,"font-medium","text-gray-800","mb-3"],[1,"space-y-3","text-sm"],[1,"grid","grid-cols-3","gap-4","font-medium","text-gray-700","border-b","pb-2"],["class","grid grid-cols-3 gap-4 py-1",3,"bg-red-50","bg-green-50",4,"ngFor","ngForOf"],[1,"border-t","pt-3","mt-3"],[1,"grid","grid-cols-3","gap-4","font-bold"],[1,"mt-4","p-3","rounded"],[1,"flex","items-center"],["class","h-5 w-5 text-green-500 mr-2","fill","currentColor","viewBox","0 0 20 20",4,"ngIf"],["class","h-5 w-5 text-red-500 mr-2","fill","currentColor","viewBox","0 0 20 20",4,"ngIf"],[1,"text-sm","mt-1","ml-7"],[1,"grid","grid-cols-3","gap-4","py-1"],["fill","currentColor","viewBox","0 0 20 20",1,"h-5","w-5","text-green-500","mr-2"],["fill","currentColor","viewBox","0 0 20 20",1,"h-5","w-5","text-red-500","mr-2"],["class","mb-4 p-3 bg-yellow-100 border border-yellow-400 rounded-lg",4,"ngIf"],[1,"flex","justify-between","items-center","mb-2"],[1,"text-gray-600"],[1,"w-full","bg-gray-200","rounded-full","h-3"],[1,"h-3","rounded-full","transition-all","duration-300"],[1,"text-sm","text-gray-600","mt-1"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4","text-sm"],[1,"bg-white","p-3","rounded","border"],[1,"font-medium","text-gray-700","mb-1"],[1,"text-gray-600","flex","items-center"],[1,"inline-block","w-2","h-2","rounded-full","mr-2"],[1,"text-xs","text-gray-500","mt-3"],[1,"mb-4","p-3","bg-yellow-100","border","border-yellow-400","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-yellow-600","mr-2"],[1,"font-medium","text-yellow-800"],[1,"text-yellow-700","text-sm","mt-1"],[1,"flex","items-center","justify-between"],[1,"text-orange-600"],[1,"mt-3","flex","gap-2"],[1,"px-3","py-1","text-sm","bg-blue-600","text-white","rounded","hover:bg-blue-700","disabled:opacity-50",3,"click","disabled"],[1,"px-3","py-1","text-sm","bg-red-600","text-white","rounded","hover:bg-red-700","disabled:opacity-50",3,"click","disabled"]],template:function(n,r){n&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),i(4,"Settings"),t(),g(5,X,8,4,"div",4),e(6,"div",5)(7,"h2",6),i(8,"Display Preferences"),t(),e(9,"div",7)(10,"div",8)(11,"h3",9),i(12,"Image Preview Size"),t(),e(13,"p",10),i(14," Choose how large part and minifig images appear in the inventory view. "),t(),e(15,"div",11)(16,"button",12),p("click",function(){return r.updateImagePreviewSize("1x")}),i(17," 1x (Small) "),t(),e(18,"button",12),p("click",function(){return r.updateImagePreviewSize("2x")}),i(19," 2x (Medium) "),t(),e(20,"button",12),p("click",function(){return r.updateImagePreviewSize("4x")}),i(21," 4x (Extra Large) "),t()()(),e(22,"div",8)(23,"h3",9),i(24,"Progress Calculation"),t(),e(25,"p",10),i(26," Choose whether spare parts are included in overall set completion percentages. "),t(),e(27,"div",11)(28,"button",12),p("click",function(){return r.updateIncludeSparePartsInProgress(!0)}),i(29," Include Spare Parts "),t(),e(30,"button",12),p("click",function(){return r.updateIncludeSparePartsInProgress(!1)}),i(31," Exclude Spare Parts "),t()(),e(32,"p",13),i(33," When excluded, spare parts will be shown separately and won't affect the main completion percentage. "),t()()()(),e(34,"div",5)(35,"h2",6),i(36,"Data Management"),t(),e(37,"div",7)(38,"div",8)(39,"h3",9),i(40,"Backup & Restore"),t(),e(41,"p",14),i(42," Export your inventory data for backup or import data from a previous backup. "),t(),e(43,"div",15)(44,"button",16),p("click",function(){return r.exportData()}),i(45," Export Data "),t()(),e(46,"div",15)(47,"input",17),p("change",function(_){return r.onFileSelected(_)}),t(),e(48,"button",18),p("click",function(){return r.importData()}),i(49," Import Data "),t(),e(50,"p",19),m(),e(51,"svg",20),c(52,"path",21),t(),i(53," Warning: Importing will overwrite all existing inventory data in your browser. "),t()()(),h(),e(54,"div",22)(55,"h3",9),i(56,"Building Block Data Cache"),t(),g(57,Z,2,0,"p",23)(58,ee,2,0,"p",23),e(59,"div",24)(60,"div",25)(61,"span",26),i(62,"Cache Status:"),t(),e(63,"span"),i(64),t()(),g(65,te,10,5,"div",27)(66,ie,2,0,"div",28)(67,ne,2,0,"div",28),t(),e(68,"button",29),p("click",function(){return r.refreshCSVData()}),g(69,ae,1,0,"div",30),i(70),t(),e(71,"p",13),g(72,re,2,0,"span",31)(73,se,2,0,"span",31),t()(),g(74,ge,11,4,"div",32),e(75,"div",33)(76,"h3",9),i(77,"Reset Application"),t(),e(78,"p",14),i(79," Permanently delete your inventory data. CSV cache will be preserved to avoid re-downloading. "),t(),e(80,"button",34),p("click",function(){return r.clearAllData()}),i(81," Clear My Data Only "),t(),e(82,"p",14),i(83," Or permanently delete ALL data including the CSV cache (will force complete reload on next visit): "),t(),e(84,"button",35),p("click",function(){return r.clearAllDataAndCache()}),g(85,pe,1,0,"div",30),i(86),t()()()(),g(87,ve,41,24,"div",36),e(88,"div",5)(89,"h2",6),i(90,"Support & Help"),t(),e(91,"div",7)(92,"div",37)(93,"div",38)(94,"div",39),m(),e(95,"svg",40),c(96,"path",41),t(),h(),e(97,"h3",42),i(98,"Report an Issue"),t()(),e(99,"p",14),i(100," Found a bug or something not working correctly? Let us know! "),t(),e(101,"a",43),m(),e(102,"svg",44),c(103,"path",45),t(),i(104," Report Bug "),t()(),h(),e(105,"div",38)(106,"div",39),m(),e(107,"svg",46),c(108,"path",47),t(),h(),e(109,"h3",42),i(110,"Request a Feature"),t()(),e(111,"p",14),i(112," Have an idea to make the app better? We'd love to hear it! "),t(),e(113,"a",48),m(),e(114,"svg",44),c(115,"path",45),t(),i(116," Request Feature "),t()(),h(),e(117,"div",38)(118,"div",39),m(),e(119,"svg",49),c(120,"path",50),t(),h(),e(121,"h3",42),i(122,"Documentation"),t()(),e(123,"p",14),i(124," Learn how to use all the features and get the most out of the app. "),t(),e(125,"a",51),m(),e(126,"svg",44),c(127,"path",45),t(),i(128," View README "),t()(),h(),e(129,"div",38)(130,"div",39),m(),e(131,"svg",52),c(132,"path",53),t(),h(),e(133,"h3",42),i(134,"General Questions"),t()(),e(135,"p",14),i(136," Need help using the app or have questions about functionality? "),t(),e(137,"a",54),m(),e(138,"svg",44),c(139,"path",45),t(),i(140," Ask Question "),t()()(),h(),e(141,"div",55)(142,"div",56),m(),e(143,"svg",57),c(144,"path",58),t(),h(),e(145,"div")(146,"h4",59),i(147,"Before Reporting Issues"),t(),e(148,"p",60),i(149," Please check if your issue has already been reported by searching the "),e(150,"a",61),i(151,"existing issues"),t(),i(152,". When reporting, include your browser version, steps to reproduce, and any console errors if applicable. "),t()()()()()()()()()),n&2&&(s(5),l("ngIf",r.message),s(11),f("bg-blue-600",r.globalSettings.imagePreviewSize==="1x")("text-white",r.globalSettings.imagePreviewSize==="1x")("bg-gray-200",r.globalSettings.imagePreviewSize!=="1x")("text-gray-700",r.globalSettings.imagePreviewSize!=="1x"),s(2),f("bg-blue-600",r.globalSettings.imagePreviewSize==="2x")("text-white",r.globalSettings.imagePreviewSize==="2x")("bg-gray-200",r.globalSettings.imagePreviewSize!=="2x")("text-gray-700",r.globalSettings.imagePreviewSize!=="2x"),s(2),f("bg-blue-600",r.globalSettings.imagePreviewSize==="4x")("text-white",r.globalSettings.imagePreviewSize==="4x")("bg-gray-200",r.globalSettings.imagePreviewSize!=="4x")("text-gray-700",r.globalSettings.imagePreviewSize!=="4x"),s(8),f("bg-blue-600",r.globalSettings.includeSparePartsInProgress===!0)("text-white",r.globalSettings.includeSparePartsInProgress===!0)("bg-gray-200",r.globalSettings.includeSparePartsInProgress!==!0)("text-gray-700",r.globalSettings.includeSparePartsInProgress!==!0),s(2),f("bg-blue-600",r.globalSettings.includeSparePartsInProgress===!1)("text-white",r.globalSettings.includeSparePartsInProgress===!1)("bg-gray-200",r.globalSettings.includeSparePartsInProgress!==!1)("text-gray-700",r.globalSettings.includeSparePartsInProgress!==!1),s(18),l("disabled",!r.selectedFile),s(9),l("ngIf",r.isUsingIndexedDB),s(),l("ngIf",!r.isUsingIndexedDB),s(5),z(r.getCacheStatusClass()),s(),x(r.getCacheStatusText()),s(),l("ngIf",r.isUsingIndexedDB&&r.csvCacheInfo&&r.csvCacheInfo.exists),s(),l("ngIf",r.isUsingIndexedDB&&(!r.csvCacheInfo||!r.csvCacheInfo.exists)),s(),l("ngIf",!r.isUsingIndexedDB),s(),l("disabled",r.isRefreshingCSV),s(),l("ngIf",r.isRefreshingCSV),s(),v(" ",r.isRefreshingCSV?"Refreshing CSV Data...":"Refresh CSV Data from Server"," "),s(2),l("ngIf",r.isUsingIndexedDB),s(),l("ngIf",!r.isUsingIndexedDB),s(),l("ngIf",r.isUsingIndexedDB),s(10),l("disabled",r.isRefreshingCSV),s(),l("ngIf",r.isRefreshingCSV),s(),v(" ",r.isRefreshingCSV?"Clearing All Data...":"Clear All Data Including Cache"," "),s(),l("ngIf",r.storageInfo))},dependencies:[N,L,H,G,j,U,W],encapsulation:2})};export{Q as SettingsComponent};
